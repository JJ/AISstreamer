<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>AISstreamer</h1>
<p>Client for AISstream socket API. It uses <a href="https://aisstream.io/">AISstream free (and experimental) API</a> to track specific, single, ships.</p>
<h2>Installation</h2>
<p>It should be as easy as <code>npm install aisstreamer</code>.</p>
<h2>Use</h2>
<p>There's a single function, <code>AIStrack</code>:</p>
<pre class="prettyprint source lang-JS"><code>import { AIStrack } from &quot;../lib/index.js&quot;;
/** API_KEY needs to be defined as an environment variable */
const API_KEY = process.env.AISSTREAM_API_KEY;

/** The exact ship name needs to be used; this might include the company name */
const SHIP_NAME = process.env.SHIP_NAME.toUpperCase();

AIStrack(API_KEY, SHIP_NAME);
</code></pre>
<p>This will use the default callback, which simply prints the JSON message, every time it finds the ship. Please read the documentation if you want to change the tracked zone, as well as have a different callback called when the ship is found</p>
<h2>AISstream messages</h2>
<p>Every message will have a form similar to this one</p>
<pre class="prettyprint source lang-JSON"><code> {
  Message: {
    ShipStaticData: {
      AisVersion: 2,
      CallSign: 'ZGIJ3',
      Destination: 'ANTIBES',
      Dimension: [Object],
      Dte: false,
      Eta: [Object],
      FixType: 3,
      ImoNumber: 9794549,
      MaximumStaticDraught: 3.3,
      MessageID: 5,
      Name: 'PAPA',
      RepeatIndicator: 0,
      Spare: false,
      Type: 37,
      UserID: 319156300,
      Valid: true
    }
  },
  MessageType: 'ShipStaticData',
  MetaData: {
    MMSI: 319156300,
    ShipName: 'PAPA',
    latitude: 43.587181666666666,
    longitude: 7.130946666666667,
    time_utc: '2023-05-10 11:46:52.509865357 +0000 UTC'
  }
}
</code></pre>
<p>That is, there are three keys: <code>Message</code>, <code>MessageType</code>, <code>Metadata</code>. The value of <code>MessageType</code> will be also the single key in <code>Message</code>. The content of this message will vary with the type of data; however, the <code>Metadata</code> part will remain invariable, and it contains the name of the ship as well as the <a href="https://en.wikipedia.org/wiki/Maritime_Mobile_Service_Identity">MMSI</a></p>
<h2>LICENSE</h2>
<p>(c) JJ Merelo, 2023</p>
<p>This is released under the GPL-3.0 license. See <a href="LICENSE">LICENSE</a> for more information.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AIS_API_URL">AIS_API_URL</a></li><li><a href="global.html#AIStrack">AIStrack</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu May 11 2023 08:17:32 GMT+0200 (hora de verano de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>